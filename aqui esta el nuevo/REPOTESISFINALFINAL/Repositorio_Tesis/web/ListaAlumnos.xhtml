<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>LISTA ALUMNOS</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link rel="stylesheet" type="text/css" href="styles.css"/>
    </h:head>
    <h:body>
        <div class="sidebar">
            <h3>Índice</h3>
            <ul>
                <li><a href="index.xhtml">PAGINA DE INICIO</a></li>
                <li><a href="AltaCarreras.xhtml">ALTA DE CARRERAS</a></li>
                <li><a href="ListaCarreras.xhtml">LISTA DE CARRERAS</a></li>
                <li><a href="AltaAlumnos.xhtml">ALTA DE ALUMNOS</a></li>
                <li><a href="ListaAlumnos.xhtml">LISTA DE ALUMNOS</a></li>
                <li><a href="AltaProfesores.xhtml">ALTA PROFESORES</a></li>
                <li><a href="ListaProfesores.xhtml">LISTA PROFESORES</a></li>
                <li><a href="AltaTrabajos.xhtml">ALTA TRABAJOS</a></li>
                <li><a href="ListaTrabajos.xhtml">LISTA TRABAJOS</a></li>
            </ul>
        </div>
        <h:form id="formMostrar">
            <p:dataTable id="tbl" var="per" value="#{alumnosBean.alumnosLista}" emptyMessage="No hay Registros" 
                         paginator="true" rows="10" paginatorPosition="top" paginatorTemplate="{CurrentPageReport} 
                         {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {RowsPerPageDropdown} {LastPageLink} "
                         rowsPerPageTemplate="5">

                <f:facet name="header">
                    <div style="float:right;padding-top: 10px; display: flex; flex-direction: row;">
                        <h:commandLink style="margin-right: 10px">
                            <p:graphicImage value="/Images/ExcelLogo.png" width="25" height="25" />
                            <p:dataExporter type="xls" target="tbl" fileName="CarrerasLista" />
                        </h:commandLink>
                        <h:commandLink>
                            <p:graphicImage value="/Images/PDFIcon.png" width="25" height="25" />
                            <p:dataExporter type="pdf" target="tbl" fileName="AlumnosLista"/>
                        </h:commandLink>   
                    </div>
                </f:facet>

                <p:column headerText="No Cuenta Alumno ">
                    <h:outputText value="#{per.noCuentaAlumno}"/>
                </p:column> 
                <p:column headerText="Nombre">
                    <h:outputText value="#{per.nombre}"/>
                </p:column> 
                <p:column headerText="Apellido Paterno">
                    <h:outputText value="#{per.paterno}"/>
                </p:column>
                <p:column headerText="Apellido Materno">
                    <h:outputText value="#{per.materno}"/>
                </p:column>
                <p:column headerText="Sexo">
                    <h:outputText value="#{per.sexo}"/>
                </p:column>
                <p:column headerText="Edad">
                    <h:outputText value="#{per.edad}"/>
                </p:column>
                <p:column headerText="Direccion">
                    <h:outputText value="#{per.direccion}"/>
                </p:column>
                <p:column headerText="celular">
                    <h:outputText value="#{per.celular}"/>
                </p:column>
                <p:column headerText="Correo Electronico">
                    <h:outputText value="#{per.correoElectronico}"/>
                </p:column>
                <p:column headerText="Fecha De Nacimiento">
                    <h:outputText value="#{per.fechaNacimiento}"/>
                </p:column>
                <p:column headerText="ID De La Carrera">
                    <h:outputText value="#{per.carreras}"/>
                </p:column>
                <p:column headerText="Generacion">
                    <h:outputText value="#{per.generacion}"/>
                </p:column>

                <p:column headerText="Accion" exportable="false">
                    <p:commandButton value="Editar" onclick="PF('dlgModificar').show();" update=":formModificarAlumnos">
                        <f:setPropertyActionListener target="#{alumnosBean.alumnos}" value="#{per}"/>
                        <p:ajax listener="#{alumnosBean.modificar()}"/>
                    </p:commandButton>
                </p:column>

                <p:column headerText="Accion" exportable="false">
                    <p:commandButton value="Eliminar" onclick="PF('dlgEliminar').show();" update=":formMostrar">
                        <f:setPropertyActionListener target="#{alumnosBean.alumnos}" value="#{per}" />
                        <p:ajax listener="#{alumnosBean.eliminar()}"/>
                    </p:commandButton>
                </p:column>

            </p:dataTable> 

            <h3>Exportar</h3>
            <div >
                <h:commandLink style="margin-right: 10px">
                    <p:graphicImage value="/Images/ExcelLogo.png" width="25" height="25" />
                    <p:dataExporter type="xls" target="tbl" fileName="Alumnos_Lista" />
                </h:commandLink>
                <h:commandLink>
                    <p:graphicImage value="/Images/PDFIcon.png" width="25" height="25" />
                    <p:dataExporter type="pdf" target="tbl" fileName="Alumnos_Lista"/>
                </h:commandLink>   
            </div>
        </h:form>
        
        <p:dialog id="dlgModificar" header="Modificar Datos" showEffect="explode" hideEffect="bounce" widgetVar="dlgModificar" modal="true" resizable="false" minWidth="200">
            <h:form id="formModificarAlumnos">
                <p:panelGrid columns="2">
                   <p:outputLabel value="Numero De Cuenta"/>
                    <p:inputText value="#{alumnosBean.alumnos.noCuentaAlumno}" />
                    <p:outputLabel value="Nombre Del Alumno"/>
                    <p:inputText value="#{alumnosBean.alumnos.nombre}"/>
                    <p:outputLabel value="Apellido Paterno Del Alumno"/>
                    <p:inputText value="#{alumnosBean.alumnos.paterno}"/>
                    <p:outputLabel value="Apellido Materno Del Alumno:"/>
                    <p:inputText value="#{alumnosBean.alumnos.materno}"/>
                    <p:outputLabel value="Sexo Del Alumno"/>
                    <p:inputText value="#{alumnosBean.alumnos.sexo}"/>
                    <p:outputLabel value="Edad Del Alumno"/>
                    <p:inputText value="#{alumnosBean.alumnos.edad}"/>
                    <p:outputLabel value="Direccion Del Alumno"/>
                    <p:inputTextarea value="#{alumnosBean.alumnos.direccion}"/>
                    <p:outputLabel value="Celular Del Alumno"/>
                    <p:inputText value="#{alumnosBean.alumnos.celular}"/>
                    <p:outputLabel value="Correo Electronico Del Alumno"/>
                    <p:inputText value="#{alumnosBean.alumnos.correoElectronico}"/>
                    <p:outputLabel value="Edad Del Fecha De Nacimiento Del Alumno"/>
                    <p:calendar value="#{alumnosBean.alumnos.fechaNacimiento}"/>
                    <p:outputLabel value="ID CARRERA-GENERACION"/>
                    <p:calendar value="#{alumnosBean.id_carrera}"/>
                    <p:outputLabel value="Generacion Del Alumno"/>
                    <p:inputText value="#{alumnosBean.alumnos.generacion}"/>
                </p:panelGrid>
                <br/>
                <p:commandButton actionListener="#{alumnosBean.modificar()}" value="Modificar Datos Del Alumnos" update=":formMostrar,:formModificarAlumnos:growl" onclick="PF('dlgModificar').hide();"/>
                <p:growl id="growl" life="3000"/>
            </h:form>
        </p:dialog>
        
        <p:dialog id="dlgEliminar" header="¿Desea Borrar El Alumno?" showEffect="explode" hideEffect="bounce" widgetVar="dlgEliminar" modal="true" resizable="false" minWidth="200">
            <h:form id="formEliminar">
                <p:outputLabel value="CONTRASEÑA: "/>
                <p:password id="password" value="#{alumnosBean.password}" feedback="false" />
                <p:commandButton actionListener="#{alumnosBean.eliminar()}" value="SI" update=":formMostrar, :formEliminar:growl" onclick="PF('dlgEliminar').hide();"/>
                <p:commandButton value="NO" update=":formMostrar, :formEliminar:growl" onclick="PF('dlgEliminar2').hide();"/>
                <p:growl id="growl" life="3000"/>
            </h:form>
        </p:dialog>
    </h:body>
</html>
